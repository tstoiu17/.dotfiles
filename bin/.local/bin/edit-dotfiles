#!/bin/sh

DOTFILES_DIR="$HOME/.dotfiles"

# select stow package
STOW_PKG=$(find "$DOTFILES_DIR" \
	-mindepth 1 -maxdepth 1 \
	-name .git -prune -o \
	-type d -printf "%P\n" \
	| fzf)
# exit if nothing was selected
test -z $STOW_PKG && exit 0

# select config file from stow package
FILE=$(find "$DOTFILES_DIR/$STOW_PKG" \
	-mindepth 1 \
	-type f -printf "%P\n" \
	| fzf)

$EDITOR $DOTFILES_DIR/$STOW_PKG/$FILE
